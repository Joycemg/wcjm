/* public/css/base.css  ———— Tema unificado La Taberna (alto contraste) */

/* ============================== Tokens ============================== */
:root{
  --bg:#F2EFEA; --card:#FAF7F1; --ink:#1F2937; --muted:#57514D; --line:#D9CFC3;
  --maroon:#7B1E1E; --maroon-press:#671717;
  --gold:#C8A24C; --gold-press:#AD8C3D;
  --focus:#2E6FEA33;

  --shadow-sm:0 8px 16px rgba(38,33,30,.08);
  --shadow-md:0 18px 36px rgba(38,33,30,.12);
  --shadow-lg:0 32px 64px rgba(38,33,30,.18);

  --surface:linear-gradient(180deg,#FAF7F1 0%,#F1EAE1 100%);
  --surface-hover:linear-gradient(180deg,#FFFAF3 0%,#EEE2D4 100%);
}

/* ============================== Reset breve ============================== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  background-image:
    radial-gradient(circle at 0% 0%, rgba(200,162,76,.12), transparent 55%),
    radial-gradient(circle at 100% 0%, rgba(123,30,30,.08), transparent 55%),
    linear-gradient(180deg, rgba(250,247,241,.92), rgba(242,239,234,.96));
  background-attachment:fixed;
  color:var(--ink);
  font:16px/1.7 "Inter","Segoe UI",-apple-system,BlinkMacSystemFont,"Helvetica Neue",sans-serif;
  -webkit-text-size-adjust:100%;
}

/* ============================== Tipografía ============================== */
h1,h2,h3,h4{color:#111827;letter-spacing:.01em;line-height:1.2;margin:.2em 0}
h1{font-weight:800;font-size:clamp(1.6rem,3.4vw,2rem)}
h2{font-weight:700;font-size:clamp(1.35rem,3vw,1.6rem)}
h3{font-weight:700;font-size:clamp(1.1rem,2.4vw,1.25rem)}
p,li,small{color:var(--ink)}
.muted,.text-gray-500{color:var(--muted)}
.text-ink{color:var(--ink)!important}
.text-muted{color:var(--muted)!important}

/* Enlaces con buen contraste */
a{color:var(--maroon);text-decoration:none;transition:color .2s ease,text-decoration-color .2s ease}
a:hover{color:var(--maroon-press);text-decoration:underline;text-decoration-color:rgba(123,30,30,.35)}
a:focus-visible,button:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{
  outline:3px solid var(--focus);outline-offset:2px
}

/* ============================== Layout ============================== */
.container{max-width:1100px;margin-inline:auto;padding:clamp(1rem,3vw,1.6rem)}
main{max-width:1100px;margin-inline:auto;padding:clamp(1rem,3.2vw,1.6rem)}
.grid{display:grid;gap:clamp(.8rem,2.6vw,1.2rem)}
.g2{grid-template-columns:1fr}
@media (min-width:900px){.g2{grid-template-columns:1.1fr .9fr}}

.sr-only{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.skip-link{position:absolute;left:-9999px;top:auto}
.skip-link:focus{left:1rem;top:1rem;z-index:100;background:#fff;color:#111;padding:.5rem .75rem;border:1px solid var(--line)}

/* ============================== Header / Footer ============================== */
header[role="banner"]{
  position:sticky;top:0;z-index:10;
  background:#FFF7EEE6;border-bottom:1px solid var(--line)
}
@supports ((-webkit-backdrop-filter:blur(8px)) or (backdrop-filter:blur(8px))){
  header[role="banner"]{background:rgba(255,247,238,.9);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}
}
.top{max-width:1100px;margin:0 auto;padding:.6rem clamp(.75rem,3vw,1rem);display:flex;align-items:center;gap:.6rem}
.brand{display:flex;align-items:center;gap:.6rem;color:#fff}
.brand img{height:34px}
.brand span{font-weight:800;letter-spacing:.02em}
.grow{flex:1}

.site-main .container{
  position:relative;display:grid;gap:clamp(1rem,3vw,1.8rem);
  background:linear-gradient(180deg, rgba(250,247,241,.94), rgba(242,239,234,.9));
  border:1px solid rgba(217,207,195,.65);
  border-radius:.5rem;
  box-shadow:var(--shadow-lg);
}
.site-main .container::before{
  content:"";position:absolute;inset:0;background:linear-gradient(120deg,rgba(200,162,76,.08),rgba(255,255,255,0) 55%);
  opacity:.75;pointer-events:none
}

/* ============================== Cards ============================== */
.card{
  position:relative;background:var(--surface);
  border:1px solid rgba(217,207,195,.85);border-radius:.5rem;
  padding:clamp(.9rem,2.4vw,1.2rem);
  box-shadow:var(--shadow-sm);overflow:hidden;
  transition:transform .2s ease, box-shadow .25s ease, border-color .25s ease
}
.card::before{
  content:"";position:absolute;inset:0;background:linear-gradient(120deg,rgba(200,162,76,.08),rgba(255,255,255,0) 55%);
  opacity:.75;pointer-events:none
}
.card>*{position:relative;z-index:1}
.card:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);border-color:rgba(200,162,76,.45)}

.card-game{background:var(--surface);border:1px solid rgba(217,207,195,.85);border-radius:.5rem;overflow:hidden;display:flex;flex-direction:column;min-height:100%;box-shadow:var(--shadow-sm);transition:transform .2s ease,box-shadow .25s ease,border-color .25s ease}
.card-game:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);border-color:rgba(200,162,76,.45)}
.card-game .media{aspect-ratio:16/10;background:#fff}
.card-game .media img{width:100%;height:100%;object-fit:cover;display:block}
.card-game .body{padding:.9rem;display:flex;flex-direction:column;gap:.55rem}

/* ============================== Botones ============================== */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
  min-height:42px;padding:.6rem .95rem;border-radius:.5rem;
  border:1px solid rgba(217,207,195,.85);background:var(--surface);color:var(--ink);
  cursor:pointer;text-decoration:none;letter-spacing:.01em;font-weight:600;
  -webkit-tap-highlight-color:transparent;box-shadow:var(--shadow-sm);
  transition:transform .15s ease, box-shadow .25s ease, background .25s ease, border-color .25s ease, color .2s ease;
}
.btn:hover{background:var(--surface-hover);box-shadow:var(--shadow-md);transform:translateY(-1px)}
.btn:active{transform:translateY(0);box-shadow:var(--shadow-sm)}
.btn:focus-visible{outline:3px solid var(--focus);outline-offset:2px}

.btn.ok{background:linear-gradient(135deg,var(--maroon),var(--maroon-press));border-color:transparent;color:#fff7ee;box-shadow:0 14px 32px rgba(123,30,30,.32)}
.btn.ok:hover{box-shadow:0 18px 38px rgba(123,30,30,.36)}
.btn.gold{background:linear-gradient(135deg,var(--gold),var(--gold-press));border-color:transparent;color:#2D241E;box-shadow:0 14px 30px rgba(200,162,76,.32)}
.btn.red,.btn.danger{background:linear-gradient(135deg,#d66b6b,#b93838);border-color:transparent;color:#fff7ee;box-shadow:0 12px 28px rgba(182,56,56,.28)}
.btn.green,.btn.success{background:linear-gradient(135deg,#63b588,#2f855a);border-color:transparent;color:#0f2d1d;box-shadow:0 12px 26px rgba(47,133,90,.28)}
.btn.block{width:100%;font-size:1.02rem;padding:.75rem 1rem}
.btn[disabled],.btn[aria-disabled="true"]{background:#f6efe6!important;color:#9ca3af!important;border-color:#e7dcd0!important;box-shadow:none!important;opacity:1!important}

/* ============================== Formularios ============================== */
label,.form-label{color:#4b5563;font-weight:600}
input,textarea,select{
  width:100%;padding:.65rem .8rem;border-radius:.5rem;border:1px solid var(--line);
  background:#fff;color:var(--ink);font-size:1rem;transition:border-color .2s ease, box-shadow .2s ease
}
input::placeholder,textarea::placeholder{color:#9ca3af}
input:focus,textarea:focus,select:focus{border-color:var(--gold);outline:none;box-shadow:0 0 0 3px var(--focus)}
.form-hint{font-size:.85rem;color:var(--muted);margin-top:.25rem}
.text-danger{color:#7f1d1d}

/* ============================== Tablas (ranking) ============================== */
.table-wrap{overflow-x:auto;-webkit-overflow-scrolling:touch}
.table, table{width:100%;border-collapse:collapse}
.table th, .table td, table th, table td{padding:.6rem;border-bottom:1px solid var(--line)}
.table th, table th{color:#334155;font-weight:700}
.table tr.me{background:rgba(125,211,252,.15)}

/* ============================== Badges / Pills ============================== */
.badges{display:flex;gap:.45rem;flex-wrap:wrap}
.badge,.pill{font-size:.82rem;padding:.22rem .55rem;border-radius:.45rem;border:1px solid rgba(217,207,195,.85);background:linear-gradient(180deg,#fff,#F5EEE4);box-shadow:inset 0 1px 0 rgba(255,255,255,.8);color:#3f3f46}
.badge.open,.pill.ok{background:linear-gradient(135deg,#a93333,#7B1E1E);color:#fff;border-color:transparent}
.badge.closed,.pill.off{background:#EFE6DA;color:#505050}

/* ============================== Mesas (componentes) ============================== */
.mesa-card .body a[id^="mesa-title-"], .mesa-title, .mesa-mini-title{color:#111827!important}
.mesa-desc, .mesa-mini-desc{color:var(--muted)}
.mesa-card .bar{height:6px;background:#efe7dc;border-radius:.25rem;overflow:hidden;margin:.5rem 0}
.mesa-card .bar>span{display:block;height:100%;background:#3b82f6}

/* ============================== Flash ============================== */
.flash{padding:.8rem 1rem;border-radius:.5rem;border:1px solid var(--line);background:#fff;box-shadow:var(--shadow-sm);font-weight:600}
.flash-ok{background:#e9f7ef;border-color:#bfe6ca;color:#165534}
.flash-err,.flash.err{background:#fcecec;border-color:#f3b9b9;color:#7b1e1e}

/* ============================== Utilidades ============================== */
.muted{color:var(--muted)} .mb-3{margin-bottom:1rem} .text-center{text-align:center}
.avatars{display:flex;align-items:center;gap:.35rem;flex-wrap:wrap}
.avatars img{width:26px;height:26px;border-radius:.35rem;border:1px solid var(--line);background:#fff}

/* ============================== A11y / rendimiento ============================== */
@media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important;scroll-behavior:auto!important}}
