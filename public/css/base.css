/* public/css/base.css */

/* ===== Variables y reset liviano ===== */
:root{
  --bg:#F2EFEA; --card:#FAF7F1; --ink:#26211E; --muted:#57514D;
  --maroon:#7B1E1E; --gold:#C8A24C; --line:#D9CFC3;
  --maroon-press:#671717; --gold-press:#AD8C3D; --focus:#2E6FEA33
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font:16px/1.65 "Inter","Segoe UI",-apple-system,BlinkMacSystemFont,"Helvetica Neue",sans-serif;
  -webkit-text-size-adjust:100%
}
a{color:var(--maroon);text-decoration:none}
a:focus-visible,button:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{
  outline:3px solid var(--focus);outline-offset:2px
}
.sr-only{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.skip-link{position:absolute;left:-9999px;top:auto}
.skip-link:focus{left:1rem;top:1rem;z-index:100;background:#fff;color:#111;padding:.5rem .75rem;border-radius:0;border:1px solid var(--line)}
.muted{color:var(--muted)}
.is-hidden{display:none!important}
.divider{height:1px;background:var(--line);margin:clamp(.6rem,2vw,1rem) 0}

/* ===== Formularios ===== */
.form-label{font-weight:600;font-size:.95rem;color:var(--muted)}
.form-control{
  width:100%;padding:.65rem .8rem;border-radius:0;border:1px solid var(--line);
  background:#fff;color:var(--ink);font-size:1rem;transition:border-color .2s ease
}
.form-control:focus{border-color:var(--gold);outline:none;box-shadow:0 0 0 3px var(--focus)}
.form-hint{font-size:.85rem;color:var(--muted);margin-top:.25rem}
.form-hint-warning{color:#92400e}
.form-alert{margin:1rem 0;padding:.75rem .9rem;border-radius:0;border:1px solid var(--line);background:#fff}
.form-alert ul{margin:.35rem 0 0 1.1rem;padding:0}
.form-alert-title{display:block;font-weight:600;margin-bottom:.35rem}
.form-alert-info{background:#E9F7EF;border-color:#BFE6CA;color:#166534}
.form-alert-error{background:#FCECEC;border-color:#F3B9B9;color:#7f1d1d}
.form-status{font-size:.9rem}
.form-error{margin:.25rem 0 0;color:#7f1d1d;font-size:.85rem;list-style:disc;padding-left:1.1rem}
.form-error li+li{margin-top:.25rem}
.form-link{color:var(--maroon);text-decoration:underline}

/* ===== Header sticky (fallback sin blur) ===== */
header[role="banner"]{
  position:sticky;top:0;z-index:10;background:#FFF7EEE6;border-bottom:1px solid var(--line)
}
@supports ((-webkit-backdrop-filter:blur(8px)) or (backdrop-filter:blur(8px))){
  header[role="banner"]{
    background:rgba(255,247,238,.9);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)
  }
}
.top{
  max-width:1100px;margin:0 auto;padding:.6rem clamp(.75rem,3vw,1rem);
  display:flex;align-items:center;gap:.6rem
}
.brand{display:flex;align-items:center;gap:.5rem;color:var(--maroon)}
.brand img{height:34px;width:auto;display:block}
.brand span{font-weight:700;letter-spacing:.4px;white-space:nowrap}
.grow{flex:1}

/* ===== Botones ===== */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:.4rem;
  min-height:44px;padding:.55rem .9rem;border-radius:0;border:1px solid var(--line);
  background:var(--card);color:var(--ink);cursor:pointer;text-decoration:none;-webkit-tap-highlight-color:transparent;
  box-shadow:0 6px 12px rgba(38,33,30,.08)
}
.btn.ok{background:var(--maroon);color:#fff;border-color:transparent}
.btn.ok:active{background:var(--maroon-press)}
.btn.gold{background:var(--gold);color:#2D241E;border-color:transparent}
.btn.gold:active{background:var(--gold-press)}
.btn.danger{background:#C74242;color:#fff;border-color:transparent}
.btn[disabled]{opacity:.55;cursor:not-allowed}
.btn.block{width:100%;font-size:1.05rem;padding:.75rem 1rem}
.btn.active,.btn[aria-current="page"]{box-shadow:inset 0 0 0 2px var(--maroon)}

/* ===== Layout y tarjetas ===== */
main{max-width:1100px;margin:0 auto;padding:clamp(.75rem,3.5vw,1rem)}
.card{background:var(--card);border:1px solid var(--line);border-radius:0;padding:clamp(.75rem,2.5vw,1rem);box-shadow:0 8px 16px rgba(38,33,30,.06)}
.grid{display:grid;gap:clamp(.75rem,2.5vw,1rem)}
.g2{grid-template-columns:1fr}
@media (min-width:900px){.g2{grid-template-columns:1.1fr .9fr}}

label{display:block;margin:.25rem 0 .35rem;color:var(--muted)}
input,textarea,select{
  width:100%;padding:.65rem .8rem;border-radius:0;border:1px solid var(--line);background:#fff;color:#111
}
input,textarea{font-size:1rem}
input:focus,textarea:focus,select:focus{border-color:var(--gold)}

.table-wrap{overflow-x:auto;-webkit-overflow-scrolling:touch}
table{width:100%;border-collapse:separate;border-spacing:0 .4rem}
th,td{padding:.6rem .7rem;text-align:left;white-space:nowrap}
tbody tr{background:#fff;border-radius:0}
tbody tr td:first-child{border-top-left-radius:0;border-bottom-left-radius:0}
tbody tr td:last-child{border-top-right-radius:0;border-bottom-right-radius:0}

/* ===== Cards de mesas ===== */
.cards{display:grid;gap:clamp(.75rem,2.5vw,1rem);grid-template-columns:repeat(auto-fill,minmax(min(100%,320px),1fr))}
.card-game{background:var(--card);border:1px solid var(--line);border-radius:0;overflow:hidden;display:flex;flex-direction:column;min-height:100%}
.card-game .media{aspect-ratio:16/10;background:#fff;overflow:hidden}
.card-game .media img{width:100%;height:100%;object-fit:cover;display:block}
.card-game .body{padding:.9rem;display:flex;flex-direction:column;gap:.5rem}
.badges{display:flex;gap:.4rem;flex-wrap:wrap}
.badge{font-size:.8rem;padding:.22rem .55rem;border-radius:0;border:1px solid var(--line);background:#fff}
.badge.open{background:var(--maroon);border-color:transparent;color:#fff}
.badge.closed{background:#EEE3D6}
.actions{display:grid;gap:.5rem;grid-template-columns:1fr;margin-top:.6rem}
@media (min-width:520px){.actions{grid-template-columns:1fr 1fr}}
.actions>form,.actions>a{display:block}
.avatars{display:flex;align-items:center;gap:.35rem;margin-top:.5rem;flex-wrap:wrap}
.avatars img{width:26px;height:26px;border-radius:0;border:1px solid var(--line);background:#fff;display:block}
.avatars .more{font-size:.8rem;color:var(--muted);padding:0 .25rem}

/* ===== Ajustes mÃ³viles ===== */
@media (max-width:420px){
  .brand span{font-size:.95rem}
  .top .btn{padding:.5rem .7rem}
  .card-game .media{aspect-ratio:4/3}
  h1,h2{font-size:clamp(1.15rem,5vw,1.6rem)}
}

/* ===== Nav wrapper ===== */
nav[role="navigation"]>div{display:flex;flex-wrap:wrap;gap:.4rem}

/* ===== Flash ===== */
.flash{padding:.7rem .9rem;border-radius:0;margin:.7rem 0;background:#E9F7EF;border:1px solid #BFE6CA}
.flash.err{background:#FCECEC;border-color:#F3B9B9}

/* Accesibilidad / rendimiento */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
}
